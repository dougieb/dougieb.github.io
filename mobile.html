<html>
	<head>
	    <script>
			function appendResults(text) {
				var results = document.getElementById('results');
				results.appendChild(document.createElement('P'));
				results.appendChild(document.createTextNode(text));
			}

			function makeRequest() {
				var request = gapi.client.urlshortener.url.get({
					'shortUrl': 'http://goo.gl/fbsS'
				});
				request.execute(function(response) {
					appendResults(response.longUrl);
				});
			}

			function auth() {
				var config = {
					'client_id': 'YOUR CLIENT ID',
					'scope': 'https://www.googleapis.com/auth/urlshortener'
				};
				gapi.auth.authorize(config, function() {
					console.log('login complete');
					console.log(gapi.auth.getToken());
				});
			}

			function load() {
				gapi.client.setApiKey('YOUR API KEY');
				gapi.client.load('urlshortener', 'v1', makeRequest);
			}

	    </script>
	    <script src="https://apis.google.com/js/client.js?onload=load"></script>
	</head>
	<body>
		<button onclick="auth();">Authorize</button>    
		<div id="results"></div>
	</body>
</html>